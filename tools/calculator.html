<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mode Identity Theory | Interactive Calculator</title>
  <meta name="description" content="Run the MIT scaling law yourself. One postulate, zero free parameters. S¹ = ∂(Möbius) ↪ S³, ∂S³ = ∅.">
  <meta name="author" content="Blake Shatto, P.E.">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,400&family=IBM+Plex+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg: #0a0e14; --bg2: #0d1520; --text: #c8dce8;
      --dim: rgba(180,200,220,0.6); --dimmer: rgba(180,200,220,0.4);
      --line: rgba(120,160,200,0.15); --accent: #6ec1e4;
      --green: #8bc4a0; --gold: #f0c040; --red: #e07050; --purple: #c090e0;
      --serif: 'Cormorant Garamond', Georgia, serif;
      --mono: 'IBM Plex Mono', monospace;
    }
    body { background: linear-gradient(170deg, var(--bg) 0%, var(--bg2) 40%, #0a1018 100%); color: var(--text); font-family: var(--mono); min-height: 100vh; line-height: 1.6; }
    a { color: var(--accent); text-decoration: none; } a:hover { text-decoration: underline; }
    .header { padding: 32px 24px 20px; text-align: center; border-bottom: 1px solid var(--line); }
    .header h1 { font-family: var(--serif); font-size: 38px; font-weight: 300; letter-spacing: 3px; color: #e0eaf0; }
    .header .sub { font-size: 14px; color: var(--dimmer); letter-spacing: 2px; margin-top: 8px; }
    .tabs { display: flex; justify-content: center; border-bottom: 1px solid var(--line); flex-wrap: wrap; }
    .tab { background: transparent; color: var(--dim); border: none; border-bottom: 2px solid transparent; padding: 10px 14px; cursor: pointer; font-family: var(--mono); font-size: 14px; font-weight: 400; letter-spacing: 0.5px; transition: all 0.2s; }
    .tab:hover { color: var(--accent); }
    .tab.active { background: rgba(110,193,228,0.12); color: var(--accent); border-bottom-color: var(--accent); font-weight: 600; }
    .content { max-width: 760px; margin: 0 auto; padding: 24px 20px 48px; }
    .panel { display: none; } .panel.active { display: block; }
    h3 { font-family: var(--serif); font-size: 24px; font-weight: 500; color: #c8dce8; margin-bottom: 12px; letter-spacing: 0.5px; }
    .section { margin-bottom: 28px; }
    .eq-box { background: rgba(110,193,228,0.06); border-radius: 8px; padding: 16px 20px; border: 1px solid rgba(110,193,228,0.15); text-align: center; font-family: var(--serif); font-size: 24px; color: #e0eaf0; letter-spacing: 1px; margin-bottom: 16px; line-height: 1.5; }
    table { width: 100%; border-collapse: collapse; font-size: 14px; }
    th { text-align: left; padding: 7px 8px; color: var(--dim); border-bottom: 1px solid rgba(120,160,200,0.2); font-weight: 500; font-size: 12px; letter-spacing: 0.8px; text-transform: uppercase; }
    td { padding: 6px 8px; border-bottom: 1px solid rgba(120,160,200,0.08); }
    tr:nth-child(even) { background: rgba(255,255,255,0.02); }
    tr.dead-zone { background: rgba(224,112,80,0.06); color: rgba(200,220,232,0.5); }
    tr.hit-row { background: rgba(139,196,160,0.1); }
    p.body { font-size: 15px; color: rgba(200,220,232,0.8); line-height: 1.7; margin-bottom: 12px; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    label.field { display: block; margin-bottom: 14px; }
    label.field span { display: block; font-size: 13px; color: var(--dim); margin-bottom: 4px; letter-spacing: 0.5px; text-transform: uppercase; }
    label.field input, label.field select { width: 100%; padding: 8px 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(120,160,200,0.2); border-radius: 4px; color: var(--text); font-family: var(--mono); font-size: 15px; outline: none; }
    label.field input:focus, label.field select:focus { border-color: var(--accent); }
    .result-box { background: rgba(255,255,255,0.03); border-radius: 8px; padding: 16px; border: 1px solid var(--line); margin-top: 16px; }
    .code-block { background: rgba(255,255,255,0.03); border-radius: 6px; padding: 16px; font-family: var(--mono); font-size: 14px; color: var(--green); line-height: 1.7; border: 1px solid rgba(120,160,200,0.1); overflow-x: auto; }
    .code-block .comment { color: var(--dimmer); }
    .alert { margin-top: 16px; padding: 12px 16px; border-radius: 6px; background: rgba(240,192,64,0.08); border: 1px solid rgba(240,192,64,0.2); font-size: 15px; color: var(--gold); }
    .alert-red { margin-top: 12px; padding: 12px 16px; border-radius: 6px; background: rgba(224,112,80,0.08); border: 1px solid rgba(224,112,80,0.2); font-size: 14px; color: var(--red); }
    .badge { display: inline-block; padding: 2px 8px; border-radius: 3px; font-size: 12px; font-weight: 600; letter-spacing: 0.5px; }
    .badge-green { background: rgba(139,196,160,0.2); color: var(--green); }
    .badge-gold { background: rgba(240,192,64,0.2); color: var(--gold); }
    .badge-red { background: rgba(224,112,80,0.2); color: var(--red); }
    .badge-dim { background: rgba(180,200,220,0.1); color: var(--dim); }
    .footer { text-align: center; padding: 20px 24px 32px; border-top: 1px solid rgba(120,160,200,0.08); font-family: var(--serif); font-size: 16px; font-style: italic; color: var(--dimmer); letter-spacing: 0.5px; }
    canvas { display: block; margin: 0 auto; }
    .mass-result { text-align: center; padding: 20px; background: rgba(110,193,228,0.06); border: 1px solid rgba(110,193,228,0.15); border-radius: 8px; margin: 16px 0; }
    .mass-result .value { font-size: 30px; font-family: var(--serif); color: var(--accent); letter-spacing: 1px; }
    .mass-result .label { font-size: 13px; color: var(--dim); margin-top: 4px; letter-spacing: 1px; text-transform: uppercase; }
    @media (max-width: 500px) { .header h1 { font-size: 26px; letter-spacing: 1px; } .form-row { grid-template-columns: 1fr; } .tab { padding: 8px 10px; font-size: 13px; } .eq-box { font-size: 20px; } }
  </style>
</head>
<body>
<div class="header">
  <h1>MODE IDENTITY THEORY</h1>
  <div class="sub">S¹ = ∂(Möbius) ↪ S³ · ∂S³ = ∅</div>
</div>
<div class="tabs">
  <button class="tab active" data-tab="calc">SCALING LAW</button>
  <button class="tab" data-tab="spectrum">SPECTRUM</button>
  <button class="tab" data-tab="theory">THEORY</button>
  <button class="tab" data-tab="score">SCORECARD</button>
  <button class="tab" data-tab="registry">REGISTRY</button>
</div>
<div class="content">

  <!-- SCALING LAW -->
  <div id="calc" class="panel active">
    <div class="section">
      <h3>Scaling Law Calculator</h3>
      <div class="eq-box">A / A<sub>P</sub> ≈ C(Θ) · (√Ω)<sup>−n</sup></div>
      <label class="field"><span>Preset</span>
        <select id="preset"><option value="custom">Custom</option><option value="alpha">α (fine structure)</option><option value="a0">a₀ (acceleration scale)</option><option value="H0">H₀ (Hubble parameter)</option><option value="lambda">Λ (cosmological constant)</option><option value="dm">DM null (n = 3 suppression)</option></select>
      </label>
      <div class="form-row">
        <label class="field"><span>Θ numerator</span><input type="number" id="thetaNum" value="13" step="1"></label>
        <label class="field"><span>Θ denominator</span><input type="number" id="thetaDen" value="120" step="1" min="1"></label>
        <label class="field"><span>n numerator</span><input type="number" id="nNum" value="1" step="1"></label>
        <label class="field"><span>n denominator</span><input type="number" id="nDen" value="1" step="1" min="1"></label>
      </div>
      <label class="field"><span>Scale</span>
        <select id="omegaSource"><option value="H">Ω_H (Hubble, epoch-dependent)</option><option value="L">Ω_Λ (de Sitter, epoch-independent)</option></select>
      </label>
      <div class="result-box"><table id="resultTable"><tbody></tbody></table></div>
    </div>
    <div class="section"><h3>Phase Operator C(Θ)</h3><canvas id="domainCanvas" width="600" height="170"></canvas></div>
  </div>

  <!-- SPECTRUM -->
  <div id="spectrum" class="panel">
    <div class="section">
      <h3>The Mass Formula</h3>
      <div class="eq-box">m(ρ, σ) = μ<sub>Λ</sub> × C<sub>geom</sub>(ρ) × (√Ω<sub>Λ</sub>)<sup>dist/30</sup> × T²(ρ ⊗ σ)</div>
      <p class="body">Four factors. Four sources. Each traced to the postulate. The only operation is multiplication.</p>
      <table><thead><tr><th>Factor</th><th>Value</th><th>Source</th></tr></thead><tbody>
        <tr><td>μ<sub>Λ</sub></td><td id="muDisplay">ρ<sub>Λ</sub><sup>1/4</sup></td><td>Vacuum energy floor</td></tr>
        <tr><td>C<sub>geom</sub>(ρ)</td><td>Geometric mean of C(e/D) over Kostant exponents</td><td>Phase operator on sunflower</td></tr>
        <tr><td>(√Ω<sub>Λ</sub>)<sup>dist/30</sup></td><td id="sqrtOLDisplay">√Ω<sub>Λ</sub></td><td>McKay graph distance</td></tr>
        <tr><td>T²(ρ ⊗ σ)</td><td>27 vacuum-twisted values</td><td>Reidemeister torsion</td></tr>
      </tbody></table>
    </div>
    <div class="section">
      <h3>Mass Calculator</h3>
      <div class="form-row">
        <label class="field"><span>Irrep ρ</span>
          <select id="specIrrep">
            <option value="1">R₁ (dim 2, half-int, dist 1)</option><option value="2">R₂ (dim 2, half-int, dist 7)</option>
            <option value="3">R₃ (dim 3, int, dist 2)</option><option value="4">R₄ (dim 3, int, dist 6)</option>
            <option value="5">R₅ (dim 4, int, dist 6)</option><option value="6">R₆ (dim 4, half-int, dist 3)</option>
            <option value="7" selected>R₇ (dim 5, int, dist 4)</option><option value="8">R₈ (dim 6, half-int, dist 5)</option>
          </select>
        </label>
        <label class="field"><span>Vacuum σ</span>
          <select id="specVacuum"><option value="triv" selected>Trivial (σ_triv)</option><option value="std">Standard (σ_std)</option><option value="gal">Galois (σ_gal)</option></select>
        </label>
      </div>
      <div class="mass-result"><div class="value" id="massValue">-</div><div class="label" id="massLabel">predicted mass</div></div>
      <div class="result-box"><table id="specBreakdown"><tbody></tbody></table></div>
    </div>
    <div class="section">
      <h3>The 24 Predictions</h3>
      <p class="body">Formula A applied to 8 nontrivial irreps × 3 vacua. Sorted by predicted mass.</p>
      <div style="overflow-x:auto"><table id="massTable24"><thead><tr><th>#</th><th>ρ</th><th>dim</th><th>dist</th><th>σ</th><th>T²</th><th>Mass (GeV)</th><th>SM</th><th>Ratio</th><th></th></tr></thead><tbody></tbody></table></div>
      <div class="alert-red"><strong>Dead zone:</strong> Ranks 4-9 (R₃ at dist 2, R₆ at dist 3) produce masses between 10⁻⁹ and 10⁻⁶ GeV. No known SM fermions occupy this range. Overlaps sterile neutrino and warm dark matter search windows.</div>
    </div>
    <div class="section">
      <h3>SM Fermion Scorecard</h3>
      <p class="body">10 of 12 within factor of 3. All 12 within factor of 10. Three predictions land within 6%.</p>
      <div style="overflow-x:auto"><table id="smScorecard"><thead><tr><th>Fermion</th><th>Observed (GeV)</th><th>Predicted (GeV)</th><th>ρ</th><th>σ</th><th>Ratio</th><th>≤3×?</th></tr></thead><tbody></tbody></table></div>
    </div>
    <div class="section">
      <h3>Locked Data</h3>
      <p class="body" style="margin-bottom:8px"><strong>C<sub>geom</sub> values</strong> (Kostant sunflower, computed live from exponents)</p>
      <table id="cgeomTable"><thead><tr><th>Irrep</th><th>Spin</th><th>D</th><th>Kostant exponents</th><th>C<sub>geom</sub></th></tr></thead><tbody></tbody></table>
      <p class="body" style="margin-top:20px;margin-bottom:8px"><strong>Vacuum torsion T²(ρ ⊗ σ)</strong> (27 entries)</p>
      <table id="torsionTable"><thead><tr><th>ρ</th><th>T²(triv)</th><th>T²(std)</th><th>T²(gal)</th></tr></thead><tbody></tbody></table>
    </div>
  </div>

  <!-- THEORY -->
  <div id="theory" class="panel">
    <div class="section"><h3>The Postulate</h3><div class="eq-box">S¹ = ∂(Möbius) ↪ S³, &nbsp; ∂S³ = ∅</div><p class="body">The temporal edge bounds the Möbius surface embedded in hypersphere space. The space has no boundary. Everything derived traces to this topology.</p></div>
    <div class="section"><h3>Five Foundations</h3><table><thead><tr><th>Foundation</th><th>Statement</th></tr></thead><tbody>
      <tr><td>Wave-matter identity</td><td>λ = h/p is identity. Matter is wave, sampled.</td></tr>
      <tr><td>Surface origin</td><td>Time is phase on the boundary of a 2D manifold.</td></tr>
      <tr><td>Topology</td><td>ψ(y + L) = −ψ(y). A field traversing the manifold returns to minus itself.</td></tr>
      <tr><td>Bounded evaluation</td><td>R_H / ℓ_P has definition at the limit ∞/0. The observer is the structural midpoint.</td></tr>
      <tr><td>Embedded sampling</td><td>The observable's character selects the manifold (n = 1, 2, 3). Dimension follows the measurement.</td></tr>
    </tbody></table></div>
    <div class="section"><h3>The Cosmic Standing Wave</h3><div class="eq-box">Ψ = cos(t/2)</div><canvas id="waveCanvas" width="600" height="180"></canvas><p class="body" style="margin-top:12px">Anti-periodicity requires period 4π. Cosine is inherited because the universe initiates at maximum amplitude Ψ = +1. The present epoch sits at t ≈ 5.22 rad, approximately 2.8 Gyr before turnaround.</p></div>
    <div class="section"><h3>The 120 Domain</h3><p class="body">The binary icosahedral group 2I is the largest exceptional discrete subgroup of SU(2) ≅ S³, with |2I| = 120.</p><table><thead><tr><th>Term</th><th>Resolution</th><th>Source</th></tr></thead><tbody>
      <tr><td>120 domain</td><td>120 positions</td><td>|2I| = 120 native to S³</td></tr><tr><td>Grid</td><td>120 (fermionic)</td><td>Half-integer modes on the domain</td></tr><tr><td>60R-grid</td><td>60 (even only)</td><td>|ψ|² projects 2I → I</td></tr>
    </tbody></table></div>
    <div class="section"><h3>Manifold Assignment</h3><table><thead><tr><th>n</th><th>Manifold</th><th>Observables</th><th>(√Ω)⁻ⁿ</th></tr></thead><tbody>
      <tr><td>1</td><td>Temporal edge S¹</td><td>H₀, a₀</td><td>~10⁻⁶¹</td></tr><tr><td>2</td><td>Möbius surface</td><td>Λ</td><td>~10⁻¹²²</td></tr><tr><td>3/2</td><td>Gauss-Codazzi interface</td><td>Gravity</td><td></td></tr><tr><td>3</td><td>Space S³</td><td>Null "dark matter"</td><td>~10⁻¹⁸³</td></tr>
    </tbody></table></div>
    <div class="section"><h3>Derivation Chain</h3>
      <p class="body">The calculator derives every scale from first principles. No hardcoded outputs.</p>
      <table id="chainTable"><thead><tr><th>Quantity</th><th>Formula</th><th>Value</th></tr></thead><tbody></tbody></table>
    </div>
  </div>

  <!-- SCORECARD -->
  <div id="score" class="panel">
    <div class="section"><h3>Extended Scorecard</h3><p class="body">Blind outputs. Cosmological constants through particle masses.</p><table><thead><tr><th>Observable</th><th>Predicted</th><th>Observed</th><th>Agr.</th></tr></thead><tbody>
      <tr><td>α</td><td>0.00733</td><td>0.007297</td><td>~0.5%</td></tr>
      <tr><td>a₀/(cH₀)</td><td>0.184</td><td>0.183</td><td>&lt;1%</td></tr>
      <tr><td>H₀ local shift</td><td>8.4%</td><td>~8.7%</td><td>&lt;1%</td></tr>
      <tr><td>Λ·ℓ<sub>P</sub>²</td><td>3.0×10⁻¹²²</td><td>2.84×10⁻¹²²</td><td>~5%</td></tr>
      <tr><td>H₀·t<sub>P</sub></td><td>1.2×10⁻⁶¹</td><td>1.1×10⁻⁶¹</td><td>9%</td></tr>
      <tr><td>a₀/a<sub>P</sub></td><td>2.2×10⁻⁶²</td><td>1.8×10⁻⁶²</td><td>22%</td></tr>
      <tr><td>CMB suppression</td><td>ℓ ~ 31</td><td>ℓ &lt; 30</td><td>~</td></tr>
      <tr><td>CMB parity</td><td>R<sub>TT</sub> &lt; 1</td><td>R<sub>TT</sub> ≈ 0.81</td><td>✓</td></tr>
      <tr><td>CMB alignment</td><td>~13°</td><td>~10°</td><td>~</td></tr>
      <tr><td>Generations</td><td>3</td><td>3</td><td>exact</td></tr>
      <tr><td>Mass gap</td><td>&gt; 0</td><td>confinement</td><td>qual.</td></tr>
      <tr><td>m<sub>e</sub></td><td>5.21×10⁻⁴ GeV</td><td>5.11×10⁻⁴ GeV</td><td>2%</td></tr>
      <tr><td>m<sub>u</sub></td><td>2.03×10⁻³ GeV</td><td>2.16×10⁻³ GeV</td><td>6%</td></tr>
      <tr><td>m<sub>μ</sub></td><td>1.03×10⁻¹ GeV</td><td>1.057×10⁻¹ GeV</td><td>2%</td></tr>
      <tr><td>12 SM fermions</td><td>24 entries</td><td>12 targets</td><td>10/12 ≤3×</td></tr>
      <tr><td>ν floor</td><td id="scNuFloor">μ<sub>Λ</sub></td><td>&lt; 800 meV (KATRIN)</td><td>awaiting</td></tr>
      <tr><td>Dead zone</td><td id="scDeadZone">—</td><td>no SM fermions in range</td><td>open</td></tr>
      <tr><td>Null DM</td><td id="scNullDM">—</td><td>ongoing null results</td><td>✓</td></tr>
    </tbody></table></div>
    <div class="section"><h3>Fibonacci Wells</h3><table><thead><tr><th>Well</th><th>Θ</th><th>C(Θ)</th><th>Grid</th><th>n</th><th>Observable</th></tr></thead><tbody id="wellsTable"></tbody></table></div>
    <div class="section"><h3>Falsification</h3><p class="body">MIT has no free knobs. The framework stands or falls on locked predictions.</p><table><thead><tr><th>Prediction</th><th>Falsified if</th><th>Threshold</th></tr></thead><tbody>
      <tr><td>a₀(z) ∝ H(z)</td><td>a₀ consistent with constant at high z</td><td>≥ 2σ, z &gt; 2</td></tr>
      <tr><td>Λ constant</td><td>ρ_DE(z) shows significant evolution</td><td>≥ 2σ</td></tr>
      <tr><td>CMB suppression</td><td>Wrong suppression scale</td><td>ℓ_cut ∉ [15, 50]</td></tr>
      <tr><td>Null dark matter</td><td>Non-gravitational interaction detected</td><td>≥ 5σ, replicated</td></tr>
      <tr><td>z<sub>cross</sub> ≈ 0.66</td><td>Phantom crossing outside window</td><td>[0.4, 0.9]</td></tr>
      <tr><td>w<sub>eff</sub> > −1</td><td>True phantom behavior confirmed</td><td>Model-independent 2σ</td></tr>
      <tr><td>μ<sub>Λ</sub> ≈ 2.25 meV</td><td>Lightest ν mass inconsistent</td><td>Direct measurement</td></tr>
      <tr><td>Dead zone states</td><td>Particles at 10⁻⁹ to 10⁻⁶ GeV</td><td>If observed with suppressed couplings</td></tr>
      <tr><td>Any SM fermion</td><td>Incompatible with 24-entry table at ×10</td><td>Ongoing</td></tr>
    </tbody></table><div class="alert">Falsification window: Euclid Data Release 1, October 21, 2026</div></div>
  </div>

  <!-- REGISTRY -->
  <div id="registry" class="panel">
    <div class="section"><h3>Publication Registry</h3><p class="body">All documents maintain DOI priority via Zenodo.</p><table><thead><tr><th>Paper</th><th>Category</th><th>DOI</th></tr></thead><tbody>
      <tr><td>Mode Identity Theory v6</td><td>Core</td><td><a href="https://doi.org/10.5281/zenodo.18064856">10.5281/zenodo.18064856</a></td></tr>
      <tr><td>Team Cosine: Euclid DR1</td><td>Falsification</td><td><a href="https://doi.org/10.5281/zenodo.18189078">10.5281/zenodo.18189078</a></td></tr>
      <tr><td>Yang-Mills Mass Gap</td><td>Math</td><td><a href="https://doi.org/10.5281/zenodo.18463584">10.5281/zenodo.18463584</a></td></tr>
      <tr><td>Riemann Hypothesis</td><td>Math</td><td><a href="https://doi.org/10.5281/zenodo.18672160">10.5281/zenodo.18672160</a></td></tr>
      <tr><td>The Waltz</td><td>Particle</td><td><a href="https://doi.org/10.5281/zenodo.18176445">10.5281/zenodo.18176445</a></td></tr>
      <tr><td>α Minimum Step</td><td>Particle</td><td><a href="https://doi.org/10.5281/zenodo.18484780">10.5281/zenodo.18484780</a></td></tr>
      <tr><td>The Spectrum</td><td>Particle</td><td><a href="https://doi.org/10.5281/zenodo.18603975">10.5281/zenodo.18603975</a></td></tr>
      <tr><td>a₀ Evolving</td><td>Cosmology</td><td><a href="https://doi.org/10.5281/zenodo.18072995">10.5281/zenodo.18072995</a></td></tr>
      <tr><td>w Evolving</td><td>Cosmology</td><td><a href="https://doi.org/10.5281/zenodo.18081581">10.5281/zenodo.18081581</a></td></tr>
      <tr><td>Axis Aligned</td><td>Cosmology</td><td><a href="https://doi.org/10.5281/zenodo.18092169">10.5281/zenodo.18092169</a></td></tr>
      <tr><td>Λ Ground Mode</td><td>Cosmology</td><td><a href="https://doi.org/10.5281/zenodo.18307314">10.5281/zenodo.18307314</a></td></tr>
      <tr><td>H₀ Local</td><td>Cosmology</td><td><a href="https://doi.org/10.5281/zenodo.18363693">10.5281/zenodo.18363693</a></td></tr>
    </tbody></table><p class="body" style="margin-top:12px;color:rgba(180,200,220,0.5);font-style:italic">1, 1, 2, 3, 5. The framework built on Fibonacci wells has a Fibonacci publication structure.</p></div>
    <div class="section"><h3>Source Code</h3><p class="body">Both the scaling law and the Spectrum mass formula. Zero hidden parameters. The code is the math.</p>
      <div class="code-block"><div class="comment">// Scaling law (4 cosmological constants):</div><div>A/Aₚ = C(Θ) · (√Ω)⁻ⁿ</div><div>&nbsp;</div><div class="comment">// Mass formula (24 particle masses):</div><div>m(ρ,σ) = μΛ · Cgeom(ρ) · (√ΩΛ)^(dist/30) · T²(ρ⊗σ)</div><div>&nbsp;</div><div class="comment">// Inputs: c, ℏ, ℓP. Free parameters: 0.</div></div>
    </div>
    <div class="section"><h3>Contact</h3><p class="body">blake shatto, p.e. · <a href="/cdn-cgi/l/email-protection#95f7e6fdf4e1e1fabbe5f0d5f2f8f4fcf9bbf6faf8"><span class="__cf_email__" data-cfemail="eb8998838a9f9f84c59b8eab8c868a8287c5888486">[email&#160;protected]</span></a><br><a href="https://modeidentitytheory.com">modeidentitytheory.com</a> · <a href="https://zenodo.org/communities/modeidentitytheory">Zenodo community</a></p></div>
  </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ══════════════════════════════════════════════════════════════
//  DERIVATION CHAIN: From first principles, not hardcoded
// ══════════════════════════════════════════════════════════════

// CODATA 2018 physical constants
const C_LIGHT = 2.99792458e8;        // m/s (exact)
const HBAR    = 1.054571817e-34;     // J·s
const G_NEWT  = 6.67430e-11;        // m³/(kg·s²)

// Planck 2018 CMB observed inputs
const H0_KM   = 67.4;               // km/s/Mpc
const OM_L0   = 0.6889;             // Ω_Λ,0
const MPC     = 3.08568e22;         // meters per Mpc

// Unit conversions
const GEV_J   = 1.602176634e-10;    // Joules per GeV
const HBAR_C  = 1.973269804e-16;    // GeV·m

// ── Derived quantities (live computation) ──

// Planck length
const ELL_P = Math.sqrt(HBAR * G_NEWT / Math.pow(C_LIGHT, 3));

// Planck time
const T_P = Math.sqrt(HBAR * G_NEWT / Math.pow(C_LIGHT, 5));

// Hubble parameter in s⁻¹
const H0 = H0_KM * 1e3 / MPC;

// Cosmological constant: Λ = 3 Ω_Λ,0 H₀² / c²
const LAMBDA = 3 * OM_L0 * Math.pow(H0, 2) / Math.pow(C_LIGHT, 2);

// de Sitter radius: R_Λ = √(3/Λ)
const R_LAMBDA = Math.sqrt(3.0 / LAMBDA);

// Hubble radius: R_H = c/H₀
const R_H = C_LIGHT / H0;

// √Ω_Λ = R_Λ / ℓ_P  (epoch-independent, surface mode)
const SQRT_OL = R_LAMBDA / ELL_P;

// √Ω_H = R_H / ℓ_P  (epoch-dependent, edge mode)
const SQRT_OH = R_H / ELL_P;

// Vacuum energy density: ρ_Λ = Λc⁴/(8πG)
const RHO_LAMBDA = LAMBDA * Math.pow(C_LIGHT, 4) / (8 * Math.PI * G_NEWT);

// ρ_Λ in natural units (GeV⁴)
const RHO_LAMBDA_GEV4 = (RHO_LAMBDA / GEV_J) * Math.pow(HBAR_C, 3);

// Neutrino floor: μ_Λ = ρ_Λ^(1/4)
const MU_L = Math.pow(RHO_LAMBDA_GEV4, 0.25);

// Phase operator: C(Θ) = 2sin²(πΘ)
function Cph(t) { return 2 * Math.pow(Math.sin(Math.PI * t), 2); }

// ══════════════════════════════════════════════════════════════
//  IRREP DATA (locked topological structure)
// ══════════════════════════════════════════════════════════════

const IR_RAW = {
  1: {l:"R₁", dim:2, sp:"half", dist:1, k:[1,11,19,29]},
  2: {l:"R₂", dim:2, sp:"half", dist:7, k:[7,13,17,23]},
  3: {l:"R₃", dim:3, sp:"int",  dist:2, k:[2,10,12,18,20,28]},
  4: {l:"R₄", dim:3, sp:"int",  dist:6, k:[6,10,14,16,20,24]},
  5: {l:"R₅", dim:4, sp:"int",  dist:6, k:[6,8,12,14,16,18,22,24]},
  6: {l:"R₆", dim:4, sp:"half", dist:3, k:[3,9,11,13,17,19,21,27]},
  7: {l:"R₇", dim:5, sp:"int",  dist:4, k:[4,8,10,12,14,16,18,20,22,26]},
  8: {l:"R₈", dim:6, sp:"half", dist:5, k:[5,7,9,11,13,15,15,17,19,21,23,25]}
};

function computeCgeom(ir) {
  var D = ir.sp === "int" ? 60 : 120;
  var product = 1.0;
  for (var i = 0; i < ir.k.length; i++) {
    product *= Cph(ir.k[i] / D);
  }
  return Math.pow(product, 1.0 / ir.k.length);
}

var IR = {};
for (var r = 1; r <= 8; r++) {
  var raw = IR_RAW[r];
  var D = raw.sp === "int" ? 60 : 120;
  IR[r] = {
    l: raw.l, dim: raw.dim, sp: raw.sp, dist: raw.dist,
    k: raw.k, D: D, cg: computeCgeom(raw)
  };
}

// ══════════════════════════════════════════════════════════════
//  VACUUM TORSION T²(ρ ⊗ σ) : 27 entries, locked
// ══════════════════════════════════════════════════════════════

const T2 = {
  1: {triv:15.887, std:0.00827, gal:2.778},
  2: {triv:0.473,  std:2.778,  gal:0.0567},
  3: {triv:0.306,  std:68.765, gal:0.257},
  4: {triv:2.094,  std:0.257,  gal:2.048},
  5: {triv:2.778,  std:0.122,  gal:4.089},
  6: {triv:4.328,  std:0.688,  gal:4.712},
  7: {triv:2.250,  std:1.114,  gal:1.114},
  8: {triv:0.257,  std:13.090, gal:1.910}
};

// ══════════════════════════════════════════════════════════════
//  SM TARGETS AND SCORECARD
// ══════════════════════════════════════════════════════════════

const SM = {"ν₁":1e-13,"ν₂":8.6e-12,"ν₃":5.06e-11,"e":5.11e-4,"u":2.16e-3,"d":4.67e-3,"μ":1.057e-1,"s":9.34e-2,"c":1.27,"τ":1.777,"b":4.18,"t":172.7};

const SMC = [
  {f:"ν₁",obs:1e-13,  rho:1,sig:"std", r:0},
  {f:"ν₂",obs:8.6e-12,rho:1,sig:"gal", r:0},
  {f:"ν₃",obs:5.06e-11,rho:1,sig:"gal",r:0},
  {f:"e", obs:5.11e-4, rho:7,sig:"triv",r:0},
  {f:"u", obs:2.16e-3, rho:8,sig:"triv",r:0},
  {f:"d", obs:4.67e-3, rho:8,sig:"gal", r:0},
  {f:"μ", obs:1.057e-1,rho:8,sig:"std", r:0},
  {f:"s", obs:9.34e-2, rho:8,sig:"std", r:0},
  {f:"c", obs:1.27,    rho:4,sig:"std", r:0},
  {f:"τ", obs:1.777,   rho:4,sig:"std", r:0},
  {f:"b", obs:4.18,    rho:2,sig:"gal", r:0},
  {f:"t", obs:172.7,   rho:2,sig:"std", r:0}
];

SMC.forEach(function(s) {
  var pred = mass(s.rho, s.sig);
  s.pred = pred;
  s.r = Math.max(pred / s.obs, s.obs / pred);
});

function mass(r, v) {
  return MU_L * IR[r].cg * Math.pow(SQRT_OL, IR[r].dist / 30) * T2[r][v];
}

// ══════════════════════════════════════════════════════════════
//  DISPLAY UTILITIES
// ══════════════════════════════════════════════════════════════

function fS(v, d) {
  d = d || 3;
  if (v === 0) return "0";
  if (Math.abs(v) >= 0.01 && Math.abs(v) < 1000) return v.toPrecision(d);
  var e = Math.floor(Math.log10(Math.abs(v)));
  var m = v / Math.pow(10, e);
  return m.toFixed(d - 1) + " × 10<sup>" + e + "</sup>";
}

function badge(r) {
  if (!r) return "";
  if (r <= 1.1)  return '<span class="badge badge-green">≤6%</span>';
  if (r <= 3)    return '<span class="badge badge-gold">≤3×</span>';
  if (r <= 10)   return '<span class="badge badge-red">≤10×</span>';
  return '<span class="badge badge-dim">&gt;10×</span>';
}

// ══════════════════════════════════════════════════════════════
//  TABS
// ══════════════════════════════════════════════════════════════

document.querySelectorAll('.tab').forEach(function(b) {
  b.addEventListener('click', function() {
    document.querySelectorAll('.tab').forEach(function(x) { x.classList.remove('active'); });
    document.querySelectorAll('.panel').forEach(function(x) { x.classList.remove('active'); });
    b.classList.add('active');
    document.getElementById(b.dataset.tab).classList.add('active');
    if (b.dataset.tab === 'theory') drawWave();
    if (b.dataset.tab === 'spectrum') compSpec();
  });
});

// ══════════════════════════════════════════════════════════════
//  SCALING LAW TAB
// ══════════════════════════════════════════════════════════════

var P = {
  alpha:  {tN:13, tD:60,  nN:1, nD:30, om:"L"},
  a0:     {tN:13, tD:120, nN:1, nD:1,  om:"H"},
  H0:     {tN:34, tD:120, nN:1, nD:1,  om:"H"},
  lambda: {tN:60, tD:120, nN:2, nD:1,  om:"L"},
  dm:     {tN:60, tD:120, nN:3, nD:1,  om:"L"}
};

var E = {
  pr: document.getElementById('preset'),
  tN: document.getElementById('thetaNum'),
  tD: document.getElementById('thetaDen'),
  nN: document.getElementById('nNum'),
  nD: document.getElementById('nDen'),
  om: document.getElementById('omegaSource')
};

E.pr.addEventListener('change', function() {
  var p = P[E.pr.value]; if (!p) return;
  E.tN.value = p.tN; E.tD.value = p.tD;
  E.nN.value = p.nN; E.nD.value = p.nD;
  E.om.value = p.om; comp();
});

[E.tN, E.tD, E.nN, E.nD, E.om].forEach(function(el) {
  el.addEventListener('input', function() { E.pr.value = 'custom'; comp(); });
});

function comp() {
  var tN = parseFloat(E.tN.value) || 0;
  var tD = parseFloat(E.tD.value) || 1;
  var nN = parseFloat(E.nN.value) || 0;
  var nD = parseFloat(E.nD.value) || 1;
  var th = tN / tD, n = nN / nD;
  var sq = E.om.value === "H" ? SQRT_OH : SQRT_OL;
  var c = Cph(th), dil = Math.pow(sq, -n), res = c * dil;
  var rows = [
    ["Θ", tN + "/" + tD + " = " + th.toFixed(6)],
    ["C(Θ) = 2 sin²(πΘ)", c.toFixed(6)],
    ["n", nN + "/" + nD + " = " + n.toFixed(6)],
    ["√Ω", fS(sq)],
    ["(√Ω)⁻ⁿ", fS(dil)],
    ["A / Aₚ", fS(res)]
  ];
  document.querySelector('#resultTable tbody').innerHTML = rows.map(function(kv) {
    var k = kv[0], v = kv[1];
    var isResult = k === 'A / Aₚ';
    return '<tr><td style="color:' + (isResult ? 'var(--accent)' : 'inherit') +
      ';font-weight:' + (isResult ? '600' : '400') + '">' + k + '</td><td>' + v + '</td></tr>';
  }).join('');
  drawDomain(th);
}

// ══════════════════════════════════════════════════════════════
//  SPECTRUM TAB
// ══════════════════════════════════════════════════════════════

var sI = document.getElementById('specIrrep');
var sV = document.getElementById('specVacuum');
sI.addEventListener('change', compSpec);
sV.addEventListener('change', compSpec);

function compSpec() {
  var r = parseInt(sI.value), v = sV.value;
  var ir = IR[r], t = T2[r][v];
  var h = Math.pow(SQRT_OL, ir.dist / 30);
  var m = MU_L * ir.cg * h * t;
  document.getElementById('massValue').innerHTML = fS(m, 4) + " GeV";
  var near = "", nd = Infinity;
  for (var nm in SM) {
    var ratio = Math.max(m / SM[nm], SM[nm] / m);
    if (ratio < nd) { nd = ratio; near = nm; }
  }
  document.getElementById('massLabel').textContent =
    "predicted mass" + (nd < 10 ? "  ·  nearest SM: " + near + " (×" + nd.toFixed(2) + ")" : "");
  var bd = [
    ["μ<sub>Λ</sub>", fS(MU_L) + " GeV", "ρ<sub>Λ</sub><sup>1/4</sup> (derived)"],
    ["C<sub>geom</sub>(" + ir.l + ")", ir.cg.toFixed(4), "Kostant sunflower (D=" + ir.D + ", computed)"],
    ["dist(" + ir.l + ")", ir.dist + " / 30", "McKay graph distance"],
    ["(√Ω<sub>Λ</sub>)<sup>dist/30</sup>", fS(h), "Hierarchy: (" + fS(SQRT_OL, 4) + ")<sup>" + ir.dist + "/30</sup>"],
    ["T²(" + ir.l + " ⊗ " + v + ")", t.toFixed(5), "Vacuum-twisted torsion"],
    ["<strong>m</strong>", "<strong>" + fS(m, 4) + " GeV</strong>", "<strong>Product of four factors</strong>"]
  ];
  document.querySelector('#specBreakdown tbody').innerHTML = bd.map(function(row) {
    return '<tr><td>' + row[0] + '</td><td>' + row[1] + '</td><td style="color:var(--dim)">' + row[2] + '</td></tr>';
  }).join('');
}

// ══════════════════════════════════════════════════════════════
//  BUILD ALL TABLES
// ══════════════════════════════════════════════════════════════

function build() {
  var muEl = document.getElementById('muDisplay');
  if (muEl) muEl.innerHTML = "ρ<sub>Λ</sub><sup>1/4</sup> = " + fS(MU_L, 4) + " GeV";
  var sqEl = document.getElementById('sqrtOLDisplay');
  if (sqEl) sqEl.innerHTML = "√Ω<sub>Λ</sub> = " + fS(SQRT_OL, 4);

  var ent = [];
  for (var r = 1; r <= 8; r++) {
    for (var vi = 0; vi < 3; vi++) {
      var v = ["triv","std","gal"][vi];
      var ir = IR[r];
      var m_ = mass(r, v);
      ent.push({r:r, l:ir.l, dim:ir.dim, dist:ir.dist, v:v, t2:T2[r][v], m:m_, sm:"", rat:0, dz:ir.dist===2||ir.dist===3});
    }
  }
  ent.sort(function(a, b) { return a.m - b.m; });

  var asgn = [
    {rk:1, s:"ν₁"}, {rk:2, s:"ν₃"}, {rk:3, s:"ν₃"},
    {rk:10,s:"e"}, {rk:11,s:"e"}, {rk:12,s:"e"},
    {rk:13,s:"u"}, {rk:14,s:"d"}, {rk:15,s:"μ"},
    {rk:17,s:"c"}, {rk:18,s:"b"}, {rk:19,s:"b"},
    {rk:20,s:"b"}, {rk:21,s:"b"}, {rk:22,s:"b"},
    {rk:23,s:"t"}, {rk:24,s:"t"}
  ];
  asgn.forEach(function(a) {
    if (ent[a.rk - 1]) {
      ent[a.rk - 1].sm = a.s;
      var obs = SM[a.s];
      if (obs) ent[a.rk - 1].rat = Math.max(ent[a.rk - 1].m / obs, obs / ent[a.rk - 1].m);
    }
  });

  document.querySelector('#massTable24 tbody').innerHTML = ent.map(function(e, i) {
    var cl = e.dz ? 'dead-zone' : (e.rat > 0 && e.rat <= 1.1 ? 'hit-row' : '');
    return '<tr class="' + cl + '"><td>' + (i+1) + '</td><td>' + e.l + '</td><td>' + e.dim +
      '</td><td>' + e.dist + '</td><td>' + e.v + '</td><td>' + e.t2.toFixed(3) +
      '</td><td>' + fS(e.m) + '</td><td>' + (e.sm || "-") + '</td><td>' +
      (e.rat ? e.rat.toFixed(2) : "-") + '</td><td>' +
      (e.sm ? badge(e.rat) : (e.dz ? '<span class="badge badge-dim">dead zone</span>' : '')) + '</td></tr>';
  }).join('');

  SMC.forEach(function(s) {
    s.pred = mass(s.rho, s.sig);
    s.r = Math.max(s.pred / s.obs, s.obs / s.pred);
  });
  document.querySelector('#smScorecard tbody').innerHTML = SMC.map(function(s) {
    var w3 = s.r <= 3 ? "yes" : (s.r <= 3.25 ? "boundary" : "<strong>no</strong>");
    var cl = s.r <= 1.1 ? 'hit-row' : '';
    return '<tr class="' + cl + '"><td>' + s.f + '</td><td>' + fS(s.obs) + '</td><td>' +
      fS(s.pred) + '</td><td>' + IR[s.rho].l + '</td><td>' + s.sig + '</td><td>' +
      s.r.toFixed(2) + '</td><td>' + w3 + ' ' + badge(s.r) + '</td></tr>';
  }).join('');

  // ── Populate dynamic scorecard rows ──
  // ν floor: μΛ in meV
  var nuEl = document.getElementById('scNuFloor');
  if (nuEl) nuEl.innerHTML = "μ<sub>Λ</sub> = " + (MU_L * 1e3).toFixed(2) + " meV";

  // Dead zone: count and mass range from sorted mass table
  var dzEl = document.getElementById('scDeadZone');
  if (dzEl) {
    var dzEntries = ent.filter(function(e) { return e.dz; });
    var dzMin = dzEntries[0].m, dzMax = dzEntries[dzEntries.length - 1].m;
    dzEl.innerHTML = dzEntries.length + " states, " + fS(dzMin) + " to " + fS(dzMax) + " GeV";
  }

  // Null DM: n=3 suppression computed from scaling law
  var dmEl = document.getElementById('scNullDM');
  if (dmEl) {
    var dmSupp = Cph(60/120) * Math.pow(SQRT_OL, -3);
    dmEl.innerHTML = "C(½)·(√Ω<sub>Λ</sub>)<sup>−3</sup> = " + fS(dmSupp);
  }

  document.querySelector('#cgeomTable tbody').innerHTML = Object.keys(IR).map(function(k) {
    var ir = IR[k];
    return '<tr><td>' + ir.l + '</td><td>' + ir.sp + '</td><td>' + ir.D +
      '</td><td style="font-size:13px">{' + ir.k.join(', ') + '}</td><td>' + ir.cg.toFixed(4) + '</td></tr>';
  }).join('');

  document.querySelector('#torsionTable tbody').innerHTML = Object.keys(T2).map(function(k) {
    var t = T2[k];
    return '<tr><td>' + IR[k].l + '</td><td>' + t.triv.toFixed(4) + '</td><td>' +
      t.std.toFixed(5) + '</td><td>' + t.gal.toFixed(4) + '</td></tr>';
  }).join('');

  var wd = [
    {p:"13/60", t:13/60,  g:"60R", n:"1/30", l:"α"},
    {p:"13/120",t:13/120, g:"120", n:"1",    l:"a₀"},
    {p:"21/120",t:21/120, g:"120", n:"-",l:"Unassigned"},
    {p:"34/120",t:34/120, g:"120", n:"1",    l:"H₀"},
    {p:"55/120",t:55/120, g:"120", n:"-",l:"Unassigned"},
    {p:"60/120",t:60/120, g:"120", n:"2",    l:"Λ"}
  ];
  document.getElementById('wellsTable').innerHTML = wd.map(function(w) {
    return '<tr><td>' + w.p + '</td><td>' + w.t.toFixed(4) + '</td><td>' +
      Cph(w.t).toFixed(4) + '</td><td>' + w.g + '</td><td>' + w.n + '</td><td>' + w.l + '</td></tr>';
  }).join('');

  var chainEl = document.querySelector('#chainTable tbody');
  if (chainEl) {
    var chain = [
      ["ℓ<sub>P</sub>", "√(ℏG/c³)", fS(ELL_P) + " m"],
      ["H₀", H0_KM + " km/s/Mpc", fS(H0) + " s⁻¹"],
      ["Λ", "3 Ω<sub>Λ,0</sub> H₀²/c²", fS(LAMBDA) + " m⁻²"],
      ["R<sub>Λ</sub>", "√(3/Λ)", fS(R_LAMBDA) + " m"],
      ["R<sub>H</sub>", "c/H₀", fS(R_H) + " m"],
      ["√Ω<sub>Λ</sub>", "R<sub>Λ</sub>/ℓ<sub>P</sub>", fS(SQRT_OL, 4)],
      ["√Ω<sub>H</sub>", "R<sub>H</sub>/ℓ<sub>P</sub>", fS(SQRT_OH, 4)],
      ["ρ<sub>Λ</sub>", "Λc⁴/(8πG)", fS(RHO_LAMBDA) + " J/m³"],
      ["μ<sub>Λ</sub>", "ρ<sub>Λ</sub><sup>1/4</sup>", fS(MU_L, 4) + " GeV"]
    ];
    chainEl.innerHTML = chain.map(function(row) {
      return '<tr><td style="color:var(--accent)">' + row[0] + '</td><td>' + row[1] + '</td><td>' + row[2] + '</td></tr>';
    }).join('');
  }
}

// ══════════════════════════════════════════════════════════════
//  CANVAS: PHASE OPERATOR DOMAIN
// ══════════════════════════════════════════════════════════════

function drawDomain(ht) {
  var c = document.getElementById('domainCanvas'), x = c.getContext('2d');
  var d = window.devicePixelRatio || 1, W = 600, H = 170;
  c.width = W * d; c.height = H * d;
  c.style.width = Math.min(W, innerWidth - 40) + 'px';
  c.style.height = H * Math.min(W, innerWidth - 40) / W + 'px';
  x.scale(d, d); x.clearRect(0, 0, W, H);
  var p = {l:50, r:20, t:30, b:40}, w = W - p.l - p.r, h = H - p.t - p.b;
  x.strokeStyle = "rgba(120,160,200,0.15)"; x.lineWidth = 0.5;
  x.beginPath(); x.moveTo(p.l, p.t + h); x.lineTo(p.l + w, p.t + h); x.stroke();
  x.beginPath(); x.moveTo(p.l, p.t); x.lineTo(p.l + w, p.t); x.stroke();
  x.strokeStyle = "#8bc4a0"; x.lineWidth = 1.5; x.beginPath();
  for (var i = 0; i <= w; i++) {
    var th = i / w, y = p.t + h - (Cph(th) / 2) * h;
    i === 0 ? x.moveTo(p.l + i, y) : x.lineTo(p.l + i, y);
  }
  x.stroke();
  [{t:13/120,l:"a₀",c:"#e07050"},{t:13/60,l:"α",c:"#c090e0"},{t:34/120,l:"H₀",c:"#60b0e0"},{t:60/120,l:"Λ",c:"#f0c040"}].forEach(function(wl) {
    var px = p.l + wl.t * w, py = p.t + h - (Cph(wl.t) / 2) * h;
    x.strokeStyle = wl.c + "60"; x.lineWidth = 1;
    x.setLineDash([3, 3]); x.beginPath(); x.moveTo(px, p.t + h); x.lineTo(px, py); x.stroke();
    x.setLineDash([]); x.fillStyle = wl.c; x.beginPath(); x.arc(px, py, 4, 0, 2 * Math.PI); x.fill();
    x.font = "bold 12px 'IBM Plex Mono',monospace"; x.textAlign = "center"; x.fillText(wl.l, px, py - 10);
  });
  if (ht > 0 && ht < 1) {
    var px = p.l + ht * w, py = p.t + h - (Cph(ht) / 2) * h;
    x.fillStyle = "#fff"; x.beginPath(); x.arc(px, py, 5, 0, 2 * Math.PI); x.fill();
  }
  x.fillStyle = "rgba(180,200,220,0.7)"; x.font = "12px 'IBM Plex Mono',monospace";
  x.textAlign = "center"; x.fillText("0", p.l, p.t + h + 16);
  x.fillText("Θ", p.l + w / 2, p.t + h + 28); x.fillText("1", p.l + w, p.t + h + 16);
  x.textAlign = "right"; x.fillText("2", p.l - 6, p.t + 6);
  x.fillText("0", p.l - 6, p.t + h + 4); x.fillText("C(Θ)", p.l - 6, p.t + h / 2);
}

// ══════════════════════════════════════════════════════════════
//  CANVAS: COSMIC STANDING WAVE
// ══════════════════════════════════════════════════════════════

function drawWave() {
  var c = document.getElementById('waveCanvas'); if (!c) return;
  var x = c.getContext('2d'), d = window.devicePixelRatio || 1, W = 600, H = 180;
  c.width = W * d; c.height = H * d;
  c.style.width = Math.min(W, innerWidth - 40) + 'px';
  c.style.height = H * Math.min(W, innerWidth - 40) / W + 'px';
  x.scale(d, d); x.clearRect(0, 0, W, H);
  var p = {l:50, r:20, t:20, b:35}, w = W - p.l - p.r, h = H - p.t - p.b, my = p.t + h / 2;
  x.strokeStyle = "rgba(120,160,200,0.12)"; x.lineWidth = 0.5;
  for (var i = 0; i <= 4; i++) {
    var px = p.l + (i / 4) * w;
    x.beginPath(); x.moveTo(px, p.t); x.lineTo(px, p.t + h); x.stroke();
  }
  x.beginPath(); x.moveTo(p.l, my); x.lineTo(p.l + w, my); x.stroke();
  x.strokeStyle = "#6ec1e4"; x.lineWidth = 2; x.beginPath();
  for (var i = 0; i <= w; i++) {
    var t = (i / w) * 4 * Math.PI, y = my - Math.cos(t / 2) * (h * 0.42);
    i === 0 ? x.moveTo(p.l + i, y) : x.lineTo(p.l + i, y);
  }
  x.stroke();
  var tN = 5.22, xN = p.l + (tN / (4 * Math.PI)) * w, yN = my - Math.cos(tN / 2) * (h * 0.42);
  x.fillStyle = "#f0c040"; x.beginPath(); x.arc(xN, yN, 5, 0, 2 * Math.PI); x.fill();
  x.fillStyle = "rgba(240,192,64,0.85)"; x.font = "13px 'IBM Plex Mono',monospace";
  x.fillText("t ≈ 5.22", xN + 8, yN - 6);
  x.fillStyle = "rgba(180,200,220,0.7)"; x.font = "12px 'IBM Plex Mono',monospace";
  x.textAlign = "center";
  ["0","π","2π","3π","4π"].forEach(function(l, i) { x.fillText(l, p.l + (i / 4) * w, p.t + h + 16); });
  x.textAlign = "right"; x.fillText("+1", p.l - 6, p.t + 12);
  x.fillText("−1", p.l - 6, p.t + h); x.fillText("Ψ", p.l - 6, my + 4);
}

// ═════════════════════════════════════════════════════════════
